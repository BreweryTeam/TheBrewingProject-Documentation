---
title: "2. A Simple Recipe"
sidebar:
  order: 2
---

import Aside from "@/components/docs/aside/Aside.astro";
import { Badge } from "@astrojs/starlight/components";
import { Image } from "astro:assets";

import customModelImage from "@/assets/docs/for-server-owners/guides/creating-a-recipe/custom-model.png";
import messagesImage from "@/assets/docs/for-server-owners/guides/creating-a-recipe/messages.png";

import beerNameExcellent from "@/assets/docs/for-server-owners/guides/creating-a-recipe/beer-name-excellent.png";
import beerNameGood from "@/assets/docs/for-server-owners/guides/creating-a-recipe/beer-name-good.png";
import beerNameBad from "@/assets/docs/for-server-owners/guides/creating-a-recipe/beer-name-bad.png";

The recipes in TheBrewingProject are stored in `/plugins/TheBrewingProject/recipes.yml` file, and are written in YAML format.

## Recipe Structure

Recipes are defined as entries in the `recipes.yml` file. Each recipe has an id and a set of properties that define its final product and the process to create it.

| Property                                  | Description                                                        | Required |
| ----------------------------------------- | ------------------------------------------------------------------ | -------- |
| [`steps`](#steps)                         | The instructions for brewing your drink.                           | **Yes**  |
| [`potion-attributes`](#potion-attributes) | Defines the appearance and metadata of the final potion item.      | **Yes**  |
| [`brew-difficulty`](#brew-difficulty)     | How hard it should be to make the brew.                            | No       |
| [`modifiers`](#modifiers)                 | How the player modifiers should be changed. (e.g. alcohol, toxins) | No       |
| [`effects`](#effects)                     | Potion effects applied to the player after drinking the brew.      | No       |
| [`messages`](#messages)                   | Messages that can be displayed after the player drinks the brew.   | No       |

### `potion-attributes` - WAITING ON MERGE

> Waiting on [expressive-code#add-annotation-comments](https://github.com/expressive-code/expressive-code/tree/add-annotation-comments) to get merged üôè.

Potion attributes basically define the actual potion item that will be created as the output of a recipe.

Available properties are:

- `name` - the name of your masterpiece. <Badge text="Quality Factored Value" variant="tip" />
- `color` - the color of the potion. This can be either a color from the [`Color`](https://jd.papermc.io/paper/1.21.5/org/bukkit/Color.html) enum or a hex color code (without the `#` prefix). <Badge text="Quality Factored Value" variant="tip" />
- `lore` - lore of the brew as a list of strings. <Badge text="Quality Factored List" variant="tip" />
- `glint` - whether to apply a glint effect to the potion item. Default to `false`. <Badge text="Quality Factored Value" variant="tip" /> <Badge text="Optional" variant="tip" />
- `append-brew-info-lore` - you can decide whether the extra lore should be displayed for an item, this includes for example recipe hints such as cook time, and so on. <Badge text="Quality Factored Value" variant="tip" /> <Badge text="Optional" variant="tip" />
- `custom-id` - You can tag the brew to be made to a custom item with the following tag. Currently no checks are done on enable for this, please test each item for now when doing this. <Badge text="Quality Factored Value" variant="tip" /> <Badge text="Optional" variant="tip" />

### `steps` - TO REVIEW

The `steps` property is a list of steps that the player must follow to create the brew.

The available step types are `cook`, `mix`, `distill`, and `age`.

While steps can be defined in any order, the logical flow of brewing must be respected.  
Cooking and mixing must happen first in a cauldron. Once the brew is removed from the cauldron (by bottling it), it can be distilled or aged, but not cooked or mixed again.

The recommended and the BreweryX order is: cook/mix -> distill -> age.

```d2 sketch pad=50 animated
direction: down

cook: Cook (in a Cauldron)
mix: Mix (in a Cauldron)
distill: Distill (in a Distillery)
age: Age (in a Barrel)

cook -> distill
mix -> distill
distill -> age
```

#### The `cook` Step

The `cook` step requires a heat source underneath a cauldron, such as a furnace or a campfire.

- `ingredients`: **(Required)** A list of ingredients that are needed for the cooking step.
- `cook-time`: **(Required)** The required cooking duration in minutes.
- `cauldron-type`: (Optional) The type of liquid required in the cauldron. Can be `water`, `lava`, or `snow`. Defaults to `water`.

```yaml
- type: cook
  cauldron-type: water
  cook-time: 15
  ingredients:
    - potato/10
    - nexo:pomegranate/5
```

#### The `mix` Step

The `mix` step is similar to `cook` but does not require a heat source, and does not have a `cauldron-type` property.

- `ingredients`: **(Required)** A list of ingredients that are needed for the mixing step.
- `mix-time`: **(Required)** The required mixing duration in minutes.

```yaml
- type: mix
  mix-time: 5
  ingredients:
    - apple/3
    - sugar_cane/8
```

#### The `distill` Step

Useful step for many recipes, although not required, [happens in a distillery](/docs/for-players/guides/distilling)

- `runs`: \*(Required)\*\* The number of times the brew must be distilled.

```yaml
- type: distill
  runs: 3
```

#### The `age` Step

The `age` step requires the brew to be placed in a barrel for a specific duration.

- `barrel-type`: **(Required)** The type of wood for the barrel. Accepts all vanilla wood types (e.g., oak, spruce, birch, acacia, etc.) and copper.
- `age-years`: **(Required)** The aging duration in TheBrewingProject years, which can be configured in the plugin's settings.  
  The default is 24000 ticks, which is equivalent to 1 Minecraft day. TODO: Link to config page.

```yaml
- type: age

  # The type of barrel to use for aging.
  # Includes copper and all the wood types.
  barrel-type: oak

  # How long the aging will take, in game days.
  age-years: 2
```

### `modifiers`

This section allows you to define how the player's modifiers should be affected when they consume the brew.

```yaml
modifiers:
# [modifier id]: [value to change the modifier by, accepts negative values]
  alcohol: 10 # increases the alcohol modifier by 10 when drinked
```

### `brew-difficulty` - TODO

Define how hard it should be to brew a beverage.

### `effects` - TODO

### `messages` - TO REVIEW

Used for specifying messages (action bar, title or chat messages) that will be displayed to the player after they drink the brew.  
You can define each message as a Quality Factored Value or a simple string.

```yaml
messages:
  # action bar message
  action-bar: Bad action bar message/Good one/Excellent one

  # title
  title: A title

  # chat message
  message: <gold>Look, MiniMessage!
```

Here's how the example above looks in the game (excellent quality brew):

<Image src={messagesImage} alt="Image showing how the example above looks in the game" />
